$(function(){$('input[name="mp_amount"]').focus();$('input[name="mp_amount"]').select();new AutoNumeric("#mp_amount",{decimalCharacter:".",digitGroupSeparator:","});$("#requestPaymentForm").submit(function(){return $.ajax({async:!1,url:$("#netvaluesendpoint").val(),type:"GET",dataType:"json",success:function(n){console.log(n);$.ajax({async:!1,url:$("#nethashendpoint").val(),type:"post",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({paymentOrder:$("#mp_order").val(),paymentReference:$("#mp_reference").val(),paymentAmount:parseFloat($("#mp_amount").val().replace(/[,]+/g,""))}),success:function(n){console.log(n.hash);$('input[name="mp_signature"]').val(n.hash);$('input[name="mp_amount"]').val(parseFloat($("#mp_amount").val().replace(/[,]+/g,"")));var t={MpAccount:$("#mp_account").val(),MpProduct:$("#mp_product").val(),MpOrder:$("#mp_order").val(),MpReference:$("#mp_reference").val(),MpNode:$("#mp_node").val(),MpConcept:$("#mp_concept").val(),MpAmount:parseFloat($("#mp_amount").val().replace(/[,]+/g,"")),MpCustomerName:$("#mp_customername").val(),MpCurrency:$("#mp_currency").val(),MpSignature:n.hash,MpUrlSuccess:$("#mp_urlsuccess").val(),MpUrlFailure:$("#mp_urlfailure").val(),MpRegisterSb:$("#mp_registersb").val(),BeginPaymentId:$("#BeginPaymentId").val()};console.log(t);$.ajax({url:$("#netrequestpaymentendpoint").val(),async:!1,type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(t),statusCode:{201:function(){console.log("it was a 201")}},success:function(){},error:function(n){console.log("the server says"+n.status)}})},error:function(n,t,i){console.log("in error section");console.log("jqXHR: "+n);console.log("jqXHR.responseText: "+n.responseText);console.log("textStatus: "+t);console.log("errorThrown: "+i);data=JSON.stringify(n.responseText);console.log("parseJSON data: "+data)}})}}),!0})});